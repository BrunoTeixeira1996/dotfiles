---
- name: installing sublime-text
  become: true
  tasks:
    - name: add pgp key
      apt_key:
        url: https://download.sublimetext.com/sublimehq-pub.gpg
        state: present
    - name: add repository
      apt_repository:
        repo: 'deb https://download.sublimetext.com/ apt/stable/'
        state: present
        filename: sublime-text.list
        update_cache: yes
    - name: install sublime-text
      apt:
        name: sublime-text
        state: present
        update_cache: true